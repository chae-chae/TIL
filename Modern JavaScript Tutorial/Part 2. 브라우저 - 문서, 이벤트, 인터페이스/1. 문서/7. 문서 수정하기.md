# 문서 수정하기

‘생동감 있는’ 웹페이지를 만들기 위한 핵심은 DOM 조작에 있다.

이번 챕터에선 적시에 요소를 새롭게 생성하는 방법과 페이지에 있는 기존 콘텐츠를 어떻게 수정할 수 있는지 알아보겠다.

## 예제: 메시지 보여주기

`alert` 창보다 보기 좋은 메시지 창을 출력해주는 예시를 살펴보겠다.

예시:
```html
<style>
.alert {
  padding: 15px;
  border: 1px solid #d6e9c6;
  border-radius: 4px;
  color: #3c763d;
  background-color: #dff0d8;
}
</style>

<div class="alert">
  <strong>안녕하세요!</strong> 중요 메시지를 확인하셨습니다.
</div>
```

위 예시에선 HTML을 사용해 메시지 창을 만들었다. 이번엔 같은 창을 자바스크립트를 사용해 만들어보자. 스타일은 HTML이나 외부 CSS 파일에 저장되어 있다고 가정하겠다.

## 요소 생성하기

DOM 노드를 만들때 사용하는 메서드는 두 가지다.

**`document.createElement(tag)`**

태그 이름(`tag`)을 사용해 새로운 요소 노드를 만듦

```js
let div = document.createElement('div');
```

**`document.createTextNode(text)`**

주어진 텍스트(`text`)를 사용해 새로운 _텍스트 노드_를 만듦

```js
let textNode = document.createTextNode('안녕하세요.');
```

개발을 할 땐 위 예시(메시지가 들어가는 `div`)처럼 주로 요소 노드를 만들게 된다.

### 메시지 생성하기

메시지가 들어갈 `div`는 세 단계로 만들 수 있다.

```js
// 1. <div> 요소 만들기
let div = document.createElement('div');

// 2. 만든 요소의 클래스를 'alert'로 설정
div.className = "alert";

// 3. 내용 채워넣기
div.innerHTML = "<strong>안녕하세요!</strong> 중요 메시지를 확인하셨습니다.";
```

이렇게 세 단계를 거치면 요소가 만들어진다. 그런데 요소를 만들긴 했지만, 아직 이 요소는 `div`라는 이름을 가진 변수에 불과하기 때문에 페이지엔 나타나지 않는다.

## 삽입 메서드

`div`가 페이지에 나타나게 하려면 `document` 내 어딘가에 `div`를 넣어줘야 한다. `document.body`로 참조할 수 있는 `<body>`안 같은 곳에 말이다.

요소 삽입 메서드 `append`를 사용한 코드 `document.body.append(div)`를 사용해 직접 새롭게 만든 요소 노드를 페이지에 나타나도록 해보자.

전체 코드는 다음과 같다.

```html
<style>
.alert {
  padding: 15px;
  border: 1px solid #d6e9c6;
  border-radius: 4px;
  color: #3c763d;
  background-color: #dff0d8;
}
</style>

<script>
  let div = document.createElement('div');
  div.className = "alert";
  div.innerHTML = "<strong>안녕하세요!</strong> 중요 메시지를 확인하셨습니다.";

  document.body.append(div);
</script>
```

여기서는 `document.body`에서 `append`를 호출했지만 다른 요소에도 `append` 메서드를 호출해 요소를 넣을 수 있다. `div.append(anotherElement)`를 호출해 `<div>`에 무언가를 추가하는 것처럼 말이다.

자바스크립트에서 지원하는 노드 삽입 메서드는 다음과 같다. 적절한 메서드를 선택하면 직접 삽입 위치를 지정할 수 있다.

- `node.append(노드나 문자열)` – 노드나 문자열을 `node` _끝_에 삽입.
- `node.prepend(노드나 문자열)` – 노드나 문자열을 `node` _맨 앞_에 삽입.
- `node.before(노드나 문자열)` –- 노드나 문자열을 `node` _이전_에 삽입.
- `node.after(노드나 문자열)` –- 노드나 문자열을 `node` _다음_에 삽입.
- `node.replaceWith(노드나 문자열)` –- `node`를 새로운 노드나 문자열로 대체.

삽입 메서드엔 임의의 노드 목록이나 문자열을 넘겨줄 수 있다. 문자열을 넘겨주면 자동으로 텍스트 노드가 만들어진다.

예시를 살펴보자.

스크립트가 실행되면 0, 1, 2에 더하여 새로운 글자들이 화면에 추가된다.

```html
<ol id="ol">
  <li>0</li>
  <li>1</li>
  <li>2</li>
</ol>

<script>
  ol.before('before'); // <ol> 앞에 문자열 'before'를 삽입함
  ol.after('after'); // <ol> 뒤에 문자열 'after를 삽입함

  let liFirst = document.createElement('li');
  liFirst.innerHTML = 'prepend';
  ol.prepend(liFirst); // <ol>의 첫 항목으로 liFirst를 삽입함

  let liLast = document.createElement('li');
  liLast.innerHTML = 'append';
  ol.append(liLast); // <ol>의 마지막 항목으로 liLast를 삽입함
</script>
```

위 예시에서 사용된 각 메서드들의 역할을 그림으로 표현하면 다음과 같다.

<img src="https://ko.javascript.info/article/modifying-document/before-prepend-append-after.svg" alt="" width="409" height="203">

최종 결과는 다음과 같아질 것이다.

```html
before
<ol id="ol">
  <li>prepend</li>
  <li>0</li>
  <li>1</li>
  <li>2</li>
  <li>append</li>
</ol>
after
```

앞서 언급하긴 했지만, 이 메서드들을 사용하면 '복수’의 노드와 문자열을 한 번에 넣을 수도 있다.

문자열과 요소를 한 번에 삽입하는 예시를 살펴보자.