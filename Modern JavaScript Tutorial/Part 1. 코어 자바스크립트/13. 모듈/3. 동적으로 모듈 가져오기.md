# ë™ì ìœ¼ë¡œ ëª¨ë“ˆ ê°€ì ¸ì˜¤ê¸°

ì´ì „ ì±•í„°ì—ì„œ ë‹¤ë¤˜ë˜ export ë¬¸ì´ë‚˜ import ë¬¸ì€ â€˜ì •ì ì¸â€™ ë°©ì‹ì´ë‹¤. ë¬¸ë²•ì´ ë‹¨ìˆœí•˜ê³  ì œì•½ì‚¬í•­ì´ ìˆë‹¤.

ì²« ë²ˆì§¸ ì œì•½ì€Â `import`ë¬¸ì— ë™ì  ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤ëŠ” ê²ƒì´ì—ˆë‹¤.

ëª¨ë“ˆ ê²½ë¡œì—” ì›ì‹œ ë¬¸ìì—´ë§Œ ë“¤ì–´ê°ˆ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— í•¨ìˆ˜ í˜¸ì¶œ ê²°ê´ê°’ì„ ê²½ë¡œë¡œ ì“°ëŠ” ê²ƒì´ ë¶ˆê°€ëŠ¥í–ˆë‹¤.

```js
import ... from getModuleName(); // ëª¨ë“ˆ ê²½ë¡œëŠ” ë¬¸ìì—´ë§Œ í—ˆìš©ë˜ê¸° ë•Œë¬¸ì— ì—ëŸ¬ê°€ ë°œìƒ.
```

ë‘ ë²ˆì§¸ ì œì•½ì€ ëŸ°íƒ€ì„ì´ë‚˜ ì¡°ê±´ë¶€ë¡œ ëª¨ë“ˆì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ë‹¤ëŠ” ì ì´ì—ˆë‹¤.

```js
if(...) {
  import ...; // ëª¨ë“ˆì„ ì¡°ê±´ë¶€ë¡œ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ì—ëŸ¬ ë°œìƒ
}

{
  import ...; // import ë¬¸ì€ ë¸”ë¡ ì•ˆì— ì˜¬ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ì—ëŸ¬ ë°œìƒ
}
```

ì´ëŸ° ì œì•½ì‚¬í•­ì´ ë§Œë“¤ì–´ì§„ ì´ìœ ëŠ”Â `import`/`export`ëŠ” ì½”ë“œ êµ¬ì¡°ì˜ ì¤‘ì‹¬ì„ ì¡ì•„ì£¼ëŠ” ì—­í• ì„ í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ì½”ë“œ êµ¬ì¡°ë¥¼ ë¶„ì„í•´ ëª¨ë“ˆì„ í•œë° ëª¨ì•„ ë²ˆë“¤ë§í•˜ê³ , ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ëª¨ë“ˆì€ ì œê±°(ê°€ì§€ì¹˜ê¸°)í•´ì•¼ í•˜ëŠ”ë°, ì½”ë“œ êµ¬ì¡°ê°€ ê°„ë‹¨í•˜ê³  ê³ ì •ë˜ì–´ìˆì„ ë•Œë§Œ ì´ëŸ° ì‘ì—…ì´ ê°€ëŠ¥í•˜ë‹¤.

ê·¸ëŸ¼ì—ë„ ë¶ˆêµ¬í•˜ê³  ëª¨ë“ˆì„ ë™ì ìœ¼ë¡œ ë¶ˆëŸ¬ì™€ì•¼ í•œë‹¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ í• ê¹Œ?

## import() í‘œí˜„ì‹

`import(module)`Â í‘œí˜„ì‹ì€ ëª¨ë“ˆì„ ì½ê³  ì´ ëª¨ë“ˆì´ ë‚´ë³´ë‚´ëŠ” ê²ƒë“¤ì„ ëª¨ë‘ í¬í•¨í•˜ëŠ” ê°ì²´ë¥¼ ë‹´ì€ ì´í–‰ëœ í”„ë¼ë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•œë‹¤. í˜¸ì¶œì€ ì–´ë””ì„œë‚˜ ê°€ëŠ¥í•˜ë‹¤.

ì½”ë“œ ë‚´ ì–´ë””ì—ì„œ ë™ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤.

```js
let modulePath = prompt("ì–´ë–¤ ëª¨ë“ˆì„ ë¶ˆëŸ¬ì˜¤ê³  ì‹¶ìœ¼ì„¸ìš”?");

import(modulePath)
  .then(obj => <ëª¨ë“ˆ ê°ì²´>)
  .catch(err => <ë¡œë”© ì—ëŸ¬, e.g. í•´ë‹¹í•˜ëŠ” ëª¨ë“ˆì´ ì—†ëŠ” ê²½ìš°>)
```

async í•¨ìˆ˜ ì•ˆì—ì„œÂ `let module = await import(modulePath)`ì™€ ê°™ì´ ì‚¬ìš©í•˜ëŠ” ê²ƒë„ ê°€ëŠ¥í•˜ë‹¤.

ëª¨ë“ˆÂ `say.js`ë¥¼ ì´ìš©í•´ ì˜ˆì‹œë¥¼ ë§Œë“¤ì–´ë³´ê² ë‹¤.

```js
// ğŸ“ say.js
export function hi() {
  alert(`ì•ˆë…•í•˜ì„¸ìš”.`);
}

export function bye() {
  alert(`ì•ˆë…•íˆ ê°€ì„¸ìš”.`);
}
```

ì•„ë˜ì™€ ê°™ì´ ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´ ëª¨ë“ˆì„ ë™ì ìœ¼ë¡œ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆë‹¤.

```js
let {hi, bye} = await import('./say.js');

hi();
bye();
```

`say.js`ì— default exportë¥¼ ì¶”ê°€í•´ë³´ê² ë‹¤.

```js
// ğŸ“ say.js
export default function() {
  alert("export defaultí•œ ëª¨ë“ˆì„ ë¶ˆëŸ¬ì™”ìŠµë‹ˆë‹¤!");
}
```

default export í•œ ëª¨ë“ˆì„ ì‚¬ìš©í•˜ë ¤ë©´ ì•„ë˜ì™€ ê°™ì´ ëª¨ë“ˆ ê°ì²´ì˜Â `default`Â í”„ë¡œí¼í‹°ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.

```js
let obj = await import('./say.js');
let say = obj.default;
// ìœ„ ë‘ ì¤„ì„ let {default: say} = await import('./say.js'); ê°™ì´ í•œ ì¤„ë¡œ ì¤„ì¼ ìˆ˜ ìˆë‹¤.

say();
```

ì•„ë˜ëŠ” ì‹¤ì œ ë™ì‘í•˜ëŠ” ì˜ˆì‹œë‹¤.

```js
// ğŸ“ say.js
export function hi() {
  alert(`ì•ˆë…•í•˜ì„¸ìš”.`);
}

export function bye() {
  alert(`ì•ˆë…•íˆ ê°€ì„¸ìš”.`);
}

export default function() {
  alert("export defaultí•œ ëª¨ë“ˆì„ ë¶ˆëŸ¬ì™”ìŠµë‹ˆë‹¤!");
}
```

```html
<!-- ğŸ“ index.html -->
<!doctype html>
<script>
  async function load() {
    let say = await import('./say.js');
    say.hi(); // ì•ˆë…•í•˜ì„¸ìš”.
    say.bye(); // ì•ˆë…•íˆ ê°€ì„¸ìš”.
    say.default(); // export defaultí•œ ëª¨ë“ˆì„ ë¶ˆëŸ¬ì™”ìŠµë‹ˆë‹¤!
  }
</script>
<button onclick="load()">í´ë¦­í•´ì£¼ì„¸ìš”</button>
```

>**ì£¼ì˜:**
>
>ë™ì  importëŠ” ì¼ë°˜ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë„ ë™ì‘í•œë‹¤.Â `script type="module"`ê°€ ì—†ì–´ë„ ëœë‹¤.

>**ì£¼ì˜:**
>
>`import()`ëŠ” í•¨ìˆ˜ í˜¸ì¶œê³¼ ë¬¸ë²•ì´ ìœ ì‚¬í•´ ë³´ì´ê¸´ í•˜ì§€ë§Œ í•¨ìˆ˜ í˜¸ì¶œì€ ì•„ë‹ˆë‹¤.Â `super()`ì²˜ëŸ¼ ê´„í˜¸ë¥¼ ì“°ëŠ” íŠ¹ë³„í•œ ë¬¸ë²• ì¤‘ í•˜ë‚˜ë‹¤.
>
>ë”°ë¼ì„œÂ `import`ë¥¼ ë³€ìˆ˜ì— ë³µì‚¬í•œë‹¤ê±°ë‚˜Â `call/apply`ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤. í•¨ìˆ˜ê°€ ì•„ë‹ˆê¸° ë•Œë¬¸ì´ë‹¤.

