# Escaping, special characters

>**주의: 미번역 문서**
>
>한국어로 번역되지 않은 문서라 직접 번역했다. 의역/오역이 있을 수 있다.
>
>원문과 비교하여 읽도록 하자. 
>– @chae-chae

우리가 봐왔듯, 백슬래쉬 `\`는 `\d`같은 문자 클래스를 나타내기 위한 것이다. 그러므로 이것은 정규 표현식에서 특별한 문자다(다른 일반적인 문자열처럼).

정규 표현식에서 특별한 의미를 가진 다른 특별한 문자들도 있다. 그들은 더 강력한 검색을 할 때 쓰인다. 여기 그들의 전체 목록이 있다: `[ \ ^ $ . | ? * + ( )`.

목록을 외우려고 하지 말자. 곧 그들을 따로따로 다룰 것이고 자연스럽게 알게 될 것이다.

## Escaping

우리가 말 그대로 점 하나를 찾고 싶다고 해보자. “다른 어떤 문자”도 아닌, 그저 점 말이다.

특별한 문자를 일반적인 것으로 사용하기 위해서는, 백슬래쉬를 앞에 추가해야 한다: `\.`.

이것은 또한 “escaping a character”라고 불린다.

For example:

```js
alert( "Chapter 5.1".match(/\d\.\d/) ); // 5.1 (match!)
alert( "Chapter 511".match(/\d\.\d/) ); // null (looking for a real dot \.)
```

괄호도 특별한 문자다. 그러므로 괄호를 원하면, 우리는 `\(`를 써야한다. 아래 예는 문자열 `"g()"`을 찾는다:

```js
alert( "function g()".match(/g\(\)/) ); // "g()"
```

백슬래쉬 `\`를 찾고 있다면, 일반적인 문자열과 정규 표현식 모두에서 특별한 문자이므로, 두 번 써야한다:

```js
alert( "1\\2".match(/\\/) ); // '\'
```

## A slash

슬래쉬 기호 `'/'`는 특별한 문자가 아니지만, 자바스크립트에서 정규 표현식을 여닫는 데 쓰인다: `/...pattern.../`, 그러므로 이것 또한 이스케이프해야 한다.

여기 슬래쉬 `'/'` 검색의 예시다:

```js
alert( "/".match(/\//) ); // '/'
```

반면에, `/.../`를 쓰고 있지 않지만 `new RegExp`를 쓰는 정규 표현식을 생성하면, 우리는 이스케이프할 필요가 없다:

```js
alert( "/".match(new RegExp("/")) ); // finds /
```

## new RegExp

`new RegExp`를 써서 정규 표현식을 생성하고 있다면, `/`를 이스케이프할 필요는 없지만, 다른 이스케이핑을 좀 해야한다.

예를 들어, 이걸 생각해보자:

```js
let regexp = new RegExp("\d\.\d");

alert( "Chapter 5.1".match(regexp) ); // null
```

`/\d\.\d/`와 작동했던 이전 예시 중 하나와 유사한 검색이지만, `new RegExp("\d\.\d")`가 작동하지 않는다. 왤까?

백슬래쉬가 문자열에 의해 “소모”되기 때문이다. 떠올려보자, 정규 문자열은 `\n`같은 그들만의 특별한 문자를 가지고 백슬래쉬는 이스케이핑에 쓰인다.

여기 “\d.\d”가 어떻게 되는 지 보자:

```js
alert("\d\.\d"); // d.d
```

문자열 따옴표는  백슬래쉬를 “소모”하고 자체적으로 해석한다. 예시로:

- `\n` – 개행 문자가 됨,
- `\u1234` – 해당 코드의 유니코드 문자가 됨,
- …그리고 특별한 의미가 없을 때: `\d`나 `\z`같은 경우, 백슬래쉬는 그냥 제거됨.

그러므로 `new RegExp`는 백슬래쉬 없이 문자열을 얻는다. 그게 검색이 작동하지 않는 이유다!

그걸 고치기 위해, 백슬래쉬를 두 번 써야 한다. 문자열 따옴표는 `\\`를 `\`로 바꾸기 때문이다:

```js
let regStr = "\\d\\.\\d";
alert(regStr); // \d\.\d (correct now)

let regexp = new RegExp(regStr);

alert( "Chapter 5.1".match(regexp) ); // 5.1
```

## Summary

- 특별한 문자들 `[ \ ^ $ . | ? * + ( )`를 문자 그대로 검색하기 위해서, 우리는 백슬래쉬 `\`를 추가해야 한다(“escape them”).
- 또한 `/.../`안에 있다면 (하지만 `new RegExp`안에는 있지 않다면) `/`를 이스케이프해야 한다.
- 문자열 `new RegExp`를 지날 때, 우리는 백슬래쉬를 두 번 `\\` 써야 한다. 문자열 따옴표들은 그들 중 하나를 소모하기 때문이다.